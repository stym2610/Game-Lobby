!function(t){var i={};function n(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=1)}([,function(t,i){var n=window.innerHeight/1.2,e=window.innerWidth/3.5;if(window.innerWidth<700||window.innerHeight<700)n=window.innerHeight,e=window.innerWidth;/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)&&(n=window.innerHeight,e=window.innerWidth);var o=document.getElementById("game");o.setAttribute("width",e),o.setAttribute("height",n),cntx=o.getContext("2d");var h=["day","night"],s=h[Math.floor(Math.random()*h.length)],d=!0,r=new Image;r.src="../dist/Images/flappy/Flappy.png";var a=new CustomEvent("addObstacle"),c=!1,l=!1,p=0,u=e/2.6,w=n/2.3,g=e/4,m=n/8;function f(t){this.posY=n/10+Math.random()*(2*n/5),this.posX=e,this.opening=n/5,this.motionGuide={down:{x:55,y:323,width:28,height:160},up:{x:83,y:323,width:28,height:160}},this.dimension=t,this.move=function(){this.posX=this.posX-1,Math.ceil(this.posX)===Math.ceil(e/2)&&document.dispatchEvent(a),Math.ceil(this.posX+this.dimension)===Math.ceil(y.posX)&&p++},this.ht=3*n/5,this.render=function(){let t=this.motionGuide.up,i=this.motionGuide.down;this.move(),l&&(cntx.fillStyle="black",cntx.fillRect(this.posX,this.posY-this.ht,this.dimension,this.ht),cntx.fillRect(this.posX,this.posY+this.opening,this.dimension,this.ht)),cntx.drawImage(r,i.x,i.y,i.width,i.height,this.posX,this.posY-this.ht,this.dimension,this.ht),cntx.drawImage(r,t.x,t.y,t.width,t.height,this.posX,this.posY+this.opening,this.dimension,this.ht)}}document.title="Flappy";var x=[];x.push(new f(e/10));var y=new function(t,i,e){this.velY=0,this.posX=t,this.posY=i,this.dimension=e,this.colors=["yellow","red"],this.color=this.colors[Math.floor(Math.random()*this.colors.length)],this.motionGuide={yellow:[{x:3,y:491,width:17,height:12},{x:31,y:491,width:17,height:12},{x:59,y:491,width:17,height:12}],red:[{x:115,y:381,width:17,height:12},{x:115,y:407,width:17,height:12},{x:115,y:433,width:17,height:12}]},this.i=0,this.move=function(){d||(this.posY=this.posY+this.velY,3!==this.velY&&this.velY++,Math.ceil(this.posY+this.dimension)>Math.ceil(.8*n)&&(c=!0))},this.up=function(){this.velY=-10},this.render=function(){this.move();let t=this.motionGuide[this.color],i=8*t.length;this.i=(this.i+1)%i;let n=t[Math.floor(this.i/8)];l&&(cntx.fillStyle="black",cntx.fillRect(this.posX,this.posY,e,e)),cntx.drawImage(r,n.x,n.y,n.width,n.height,this.posX,this.posY,e,e)}}(e/5,n/2,n/15);document.addEventListener("addObstacle",function(t){x.push(new f(e/10)),x.length>3&&x.splice(0,1)},!1);var v,Y=(v=0,function(){var t=300,i=0,o=150,h=50;cntx.drawImage(r,t,i,o,h,v,n/1.25,e,n/5),cntx.drawImage(r,t,i,o,h,v+o-4,n/1.25,e,n/5),v=v%150-1});function X(){var t;if(t={day:{x:0,y:0,width:128,height:256},night:{x:150,y:0,width:128,height:256}}[s],cntx.drawImage(r,t.x,t.y,t.width,t.height,0,0,e,n),x.forEach(t=>{t.render(),function(t,i){var n=!1,e=[];return e.push({x:i.posX,y:i.posY}),e.push({x:i.posX+i.dimension,y:i.posY}),e.push({x:i.posX,y:i.posY+i.dimension}),e.push({x:i.posX+i.dimension,y:i.posY+i.dimension}),e.forEach(i=>{let e=i.x,o=i.y;e>=t.posX&&e<=t.posX+t.dimension&&!(o>t.posY&&o<t.posY+t.opening)&&(n=!0)}),n}(t,y)&&(c=!0)}),y&&!c&&y.render(),Y(),cntx.fillStyle="orange",cntx.font="bold 50px Impact",cntx.fillText(p.toString(),e/2,n/4),c)return cntx.drawImage(r,390,58,100,30,e/4,n/3,e/2,n/8),void cntx.drawImage(r,354,118,52,29,e/2.6,n/2.3,e/4,n/8);c||window.requestAnimationFrame(X)}var M={Space:function(){d&&(d=!1),y.up()}};o.addEventListener("click",t=>{var i=t.layerX,n=t.layerY;u<=i&&i<=u+g&&w<=n&&n<=w+m&&c&&window.location.reload()}),window.onload=function(){document.onclick=function(){d&&(d=!1),y.up()},document.onkeydown=function(t){if(0==t.altKey&&0==t.ctrlKey){var i=M[t.code];"function"==typeof i&&i()}},X()}}]);